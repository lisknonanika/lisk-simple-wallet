<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Account Info</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="signOut()">
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-refresher slot="fixed" (ionRefresh)="reflesh($event)">
    <ion-refresher-content pullingText="Pull to refresh" refreshingText="Refreshing..."></ion-refresher-content>
  </ion-refresher>
  <div id="container">
    <div *ngIf="isView">
      <div class="rows">
        <div class="row">
          <div class="side-btn left" (click)="openAccountEdit(address)">
            <ion-icon name="settings-outline"></ion-icon>
          </div>
          <a class="row-btn" href="{{explorerUrl}}/account/{{address}}" target="_blank" rel="noopener noreferrer">
            <div class="identicon"><img src="https://lisk-avator.ysdev.work/{{address}}?size=30"/></div>
            <div class="account">
              <div class="address">{{address}}</div>
              <div>balance: {{balance}} LSK</div>
              <div>misc: {{misc}}</div>
            </div>
            <div class="side-btn right"><ion-icon class="link" name="desktop-outline"></ion-icon></div>
          </a>
        </div>

        <div *ngIf="isMultisignature" class="row sub-btn" (click)="openMembers()">
          <div class="text"><ion-icon name="key" style="margin-right: 5px;"></ion-icon>&nbsp;Display Multisgnature Members</div>
          <div class="side-btn right"><ion-icon name="chevron-forward"></ion-icon></div>
        </div>
      </div>
      
      <div class="content-title">- Latest 5 Transactions -</div>
      <div class="rows transactions" style="margin-top: 10px;">
        <div cdkDrag *ngFor="let tx of transactions">

          <div *ngIf="tx.moduleAssetId==='2:0' && tx.sendOrReceive===0" class="row send">
            <a class="row-btn" href="{{explorerUrl}}/transaction/{{tx.id}}" target="_blank" rel="noopener noreferrer">
              <div class="side-btn left"><ion-icon name="arrow-redo"></ion-icon></div>
              <div class="transaction">
                <div class="id">{{tx.id}}</div>
                <div><img src="https://lisk-avator.ysdev.work/{{tx.address}}?size=15"/>&nbsp;{{tx.address}}</div>
                <div>{{tx.amount}} LSK</div>
              </div>
              <div class="side-btn right"><ion-icon class="link" name="desktop-outline"></ion-icon></div>
            </a>
          </div>

          <div *ngIf="tx.moduleAssetId==='2:0' && tx.sendOrReceive===1" class="row receive">
            <a class="row-btn" href="{{explorerUrl}}/transaction/{{tx.id}}" target="_blank" rel="noopener noreferrer">
              <div class="side-btn left"><ion-icon name="arrow-undo"></ion-icon></div>
              <div class="transaction">
                <div class="id">{{tx.id}}</div>
                <div><img src="https://lisk-avator.ysdev.work/{{tx.address}}?size=15"/>&nbsp;{{tx.address}}</div>
                <div>{{tx.amount}} LSK</div>
              </div>
              <div class="side-btn right"><ion-icon class="link" name="desktop-outline"></ion-icon></div>
            </a>
          </div>

          <div *ngIf="tx.moduleAssetId!=='2:0'" class="row other">
            <a class="row-btn" href="{{explorerUrl}}/transaction/{{tx.id}}" target="_blank" rel="noopener noreferrer">
              <div class="side-btn left">
                <ion-icon *ngIf="tx.moduleAssetId==='4:0'" name="key"></ion-icon>
                <ion-icon *ngIf="tx.moduleAssetId==='5:0'" name="person-add"></ion-icon>
                <ion-icon *ngIf="tx.moduleAssetId==='5:1'" name="star-half"></ion-icon>
                <ion-icon *ngIf="tx.moduleAssetId==='5:2'" name="lock-open"></ion-icon>
                <ion-icon *ngIf="tx.moduleAssetId==='5:3'" name="receipt"></ion-icon>
                <ion-icon *ngIf="tx.moduleAssetId==='1000:0'" name="shield-checkmark"></ion-icon>
              </div>
              <div class="transaction">
                <div class="id">{{tx.id}}</div>
                <div>{{tx.moduleAssetName}}</div>
              </div>
              <div class="side-btn right"><ion-icon class="link" name="desktop-outline"></ion-icon></div>
            </a>
          </div>

        </div>
      </div>
    </div>
  </div>
</ion-content>